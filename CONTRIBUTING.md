# xcal é¡¹ç›®è´¡çŒ®æŒ‡å—

æ¬¢è¿å‚ä¸ xcal é¡¹ç›®çš„å¼€å‘ï¼xcal æ˜¯ä¸€ä¸ª C++ å›¾å½¢æ¸²æŸ“åº“ï¼Œæœ¬æ–‡æ¡£å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®ã€‚

## ç›®å½•
- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [æ„å»ºæŒ‡å—](#æ„å»ºæŒ‡å—)
- [ä»£ç é£æ ¼](#ä»£ç é£æ ¼)
- [æäº¤è´¡çŒ®æµç¨‹](#æäº¤è´¡çŒ®æµç¨‹)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [æ–‡æ¡£è¦æ±‚](#æ–‡æ¡£è¦æ±‚)
- [é—®é¢˜æŠ¥å‘Š](#é—®é¢˜æŠ¥å‘Š)

## å¼€å‘ç¯å¢ƒè®¾ç½®

### ç¼–è¯‘å™¨è¦æ±‚
- **ç¼–è¯‘å™¨**: Clang-cl 19.1.0
- **C++æ ‡å‡†**: C++23
- **æ„å»ºç³»ç»Ÿ**: CMake 3.15+

## æ„å»ºæŒ‡å—

### ä½¿ç”¨ CMake é¢„è®¾
é¡¹ç›®æä¾›äº†é¢„é…ç½®çš„ CMake é¢„è®¾ï¼š

```bash
# é…ç½®é¡¹ç›® (Debug æ¨¡å¼)
cmake --preset build-debug

# é…ç½®é¡¹ç›® (Release æ¨¡å¼)  
cmake --preset build-release

# æ„å»ºé¡¹ç›®
cmake --build --preset build-debug
```

### å¯ç”¨é¢„è®¾
- `build-debug`: Debug æ„å»ºé…ç½®
- `build-release`: Release æ„å»ºé…ç½®
- `clang-cl-build`: åŸºç¡€ Clang-cl é…ç½®

### è¿è¡Œæµ‹è¯•
```bash
# æ„å»ºæµ‹è¯•
cmake --build --preset build-debug --target test_opengl

# è¿è¡Œæµ‹è¯•
./build-debug/tests/test_opengl

# è¿è¡Œåœºæ™¯æµ‹è¯•
./build-debug/tests/scene/scene_test
```

## ä»£ç é£æ ¼

### æ ¼å¼åŒ–å·¥å…·
é¡¹ç›®ä½¿ç”¨ `.clang-format` è¿›è¡Œä»£ç æ ¼å¼åŒ–ï¼ŒåŸºäº Google é£æ ¼ï¼Œç¼©è¿›ä¸º 4 ä¸ªç©ºæ ¼ã€‚é¡¹ç›®æä¾›äº† CMake ç›®æ ‡æ¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼š

```bash
cmake --build build --target format-code
```

### å‘½åçº¦å®š
é¡¹ç›®éµå¾ª Google C++ é£æ ¼æŒ‡å—ï¼š
- **ç±»å**: PascalCase (å¦‚ `MObject`, `Scene`)
- **å‡½æ•°å**: camelCase (å¦‚ `calculatePosition`, `renderScene`) 
- **å˜é‡å**: snake_case (å¦‚ `position_list`, `color_value`)
- **å¸¸é‡å**: UPPER_SNAKE_CASE (å¦‚ `MAX_OBJECTS`, `DEFAULT_COLOR`)

### å¤´æ–‡ä»¶ç»„ç»‡
- ä½¿ç”¨ `#pragma once` é˜²æ­¢é‡å¤åŒ…å«
- å¤´æ–‡ä»¶æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡åœ¨ç›¸åº”ç›®å½•ä¸­
- å…¬å…±æ¥å£æ”¾åœ¨ `src/public.h` ä¸­

## æäº¤è´¡çŒ®æµç¨‹

### Git å·¥ä½œæµ
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/your-feature-name`
3. æäº¤æ›´æ”¹: `git commit -m "feat: add your feature"`
4. æ¨é€åˆ°åˆ†æ”¯: `git push origin feature/your-feature-name`
5. åˆ›å»º Pull Request

### æäº¤ä¿¡æ¯è§„èŒƒ
ä½¿ç”¨çº¦å®šå¼æäº¤æ ¼å¼ï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨

ç¤ºä¾‹: `feat(mobject): add circle object implementation`

### Pull Request è¦æ±‚
- åŒ…å«æ¸…æ™°çš„æè¿°å’Œä¿®æ”¹ç›®çš„
- é€šè¿‡æ‰€æœ‰ CI æ£€æŸ¥
- åŒ…å«ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## æµ‹è¯•è¦æ±‚

### å•å…ƒæµ‹è¯•
- ä¸ºæ‰€æœ‰æ–°åŠŸèƒ½ç¼–å†™å•å…ƒæµ‹è¯•
- æµ‹è¯•æ–‡ä»¶æ”¾åœ¨ `tests/` ç›®å½•ä¸‹
- ä½¿ç”¨ GTest æ¡†æ¶ç¼–å†™æµ‹è¯•

### æµ‹è¯•è¦†ç›–ç‡
ç¡®ä¿æ–°ä»£ç çš„æµ‹è¯•è¦†ç›–ç‡ä¸ä½äº 80%

### æµ‹è¯•è¿è¡Œ
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
ctest --preset build-debug

# è¿è¡Œç‰¹å®šæµ‹è¯•
./build-debug/tests/test_opengl --gtest_filter="TestScene.*"
```

## æ–‡æ¡£è¦æ±‚

### ä»£ç æ³¨é‡Š
- ä½¿ç”¨ Doxygen æ ¼å¼æ³¨é‡Šå…¬å…±æ¥å£
- ä¸ºå¤æ‚ç®—æ³•æ·»åŠ è¯¦ç»†æ³¨é‡Š
- ä¿æŒæ³¨é‡Šä¸ä»£ç åŒæ­¥æ›´æ–°

ç¤ºä¾‹:
```cpp
/**
 * @brief è®¡ç®—ä¸¤ä¸ªç‚¹çš„è·ç¦»
 * @param p1 ç¬¬ä¸€ä¸ªç‚¹
 * @param p2 ç¬¬äºŒä¸ªç‚¹  
 * @return ä¸¤ç‚¹ä¹‹é—´çš„æ¬§å‡ é‡Œå¾—è·ç¦»
 */
float_t calculateDistance(const Position& p1, const Position& p2);
```

### API æ–‡æ¡£
- æ‰€æœ‰å…¬å…±ç±»å’Œå‡½æ•°éƒ½éœ€è¦æ–‡æ¡£
- æ–‡æ¡£åº”è¯¥è¯´æ˜å‚æ•°ã€è¿”å›å€¼å’Œä½¿ç”¨ç¤ºä¾‹

## é—®é¢˜æŠ¥å‘Š

### Bug æŠ¥å‘Š
å½“æŠ¥å‘Š bug æ—¶ï¼Œè¯·åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
1. é—®é¢˜æè¿°
2. é‡ç°æ­¥éª¤
3. æœŸæœ›è¡Œä¸º vs å®é™…è¡Œä¸º
4. ç¯å¢ƒä¿¡æ¯ (ç¼–è¯‘å™¨ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰)
5. ç›¸å…³æ—¥å¿—è¾“å‡º

### åŠŸèƒ½è¯·æ±‚
æå‡ºæ–°åŠŸèƒ½æ—¶è¯·è¯´æ˜ï¼š
1. åŠŸèƒ½éœ€æ±‚æè¿°
2. ä½¿ç”¨åœºæ™¯
3. å¯èƒ½çš„å®ç°æ–¹æ¡ˆ
4. ç›¸å…³å‚è€ƒèµ„æ–™

## è”ç³»æ–¹å¼
å¦‚æœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- åˆ›å»º GitHub Issue
- é€šè¿‡ Pull Request è®¨è®º

æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰

---

*æœ€åæ›´æ–°: 2025-08-27*
